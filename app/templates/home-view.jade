extends /templates/base-flat

mixin box
  .well.text-center
    if me.isAnonymous() == true
      h6#classroom-edition-header(data-i18n="new_home.classroom_edition", style="display:none")
      div(style="display:none")
        button.teacher-btn.btn.btn-primary.btn-lg.btn-block(data-event-action="Homepage Click Teacher Button CTA", data-i18n="new_home.im_a_teacher")
      div(style="display:none")
        button.student-btn.btn.btn-forest.btn-lg.btn-block(data-event-action="Homepage Click Student Button CTA", data-i18n="new_home.im_a_student")
      h6#qq-group(data-i18n="new_home.qq_group")
      div
        a(href="http://shang.qq.com/wpa/qunwpa?idkey=e426caa4e5ae27fbe6d6160b9f50e244950079262118b3e72cfdac04adb27599",target="_blank")
          img(src="//pub.idqqimg.com/wpa/images/group.png")
      h6#learn-to-code-header(data-i18n="new_home.learn_to_code")
      a.btn.btn-gold.btn-lg.btn-block.play-btn(href=view.playURL, data-event-action="Homepage Play Now CTA", data-i18n="new_home.play_now")

    else
      h6#classroom-edition-header(data-i18n="new_home.logged_in_as")
      p.small.userName=me.broadName()
      if me.isTeacher()
        div
          a.my-classes-btn.btn.btn-forest.btn-lg.btn-block(href="/teachers/classes", data-event-action="Homepage Click My Classes CTA", data-i18n="new_home.goto_classes")
        div
          a.resource-btn.btn.btn-primary.btn-lg.btn-block(href="/teachers/resources", data-event-action="Homepage Click Resource Hub CTA", data-i18n="teacher.resource_hub")
        div
          if !view.isTeacherWithDemo
            h6(data-i18n="new_home.want_coco")
            button.btn.btn-primary.btn-lg.request-demo(data-event-action="Homepage Request Demo CTA", data-i18n="new_home.request_demo")

      else if me.isStudent()
        div
          a.btn.btn-forest.btn-lg.btn-block.play-btn(href=view.playURL, data-event-action="Homepage Classroom Continue Playing CTA", data-i18n="courses.continue_playing")
        div
          a.btn.btn-primary.btn-lg.btn-block.play-btn(href=view.playURL, data-event-action="Homepage View Progress CTA", data-i18n="new_home.go_to_courses")
      else
        div
          a.btn.btn-forest.btn-lg.btn-block.play-btn(href=view.playURL, data-event-action="Homepage Campaign Continue Playing CTA", data-i18n="courses.continue_playing")
        div
          a.btn.btn-primary.btn-lg.btn-block.profile-btn(href=("/user/" + me.getSlugOrID()), data-event-action="Homepage View Profile CTA", data-i18n="new_home.view_profile")


      p.small
        span(data-i18n="courses.not_you")
        span &nbsp;
        a.logout-btn(data-i18n="login.log_out", href="#")

  if (me.get('preferredLanguage', true) || 'en-US').split('-')[0] == 'nl'
    .well#ideal-tickets-well.text-center.hidden-xs.hidden-sm
      h6 Thuis versie:
      a.btn.btn-purple.btn-lg.btn-block(href="http://codecombat.nl/kopen") Prepaid codes (iDeal)


block content
  .container-fluid#jumbotron-container-fluid.alt-image
    .container
      .row.hidden-xs.top-spacer(style="height: 160px")
      .row.hidden-sm.hidden-xs
        .col-lg-7.col-md-8
          h1(data-i18n="new_home.slogan")
        .col-lg-3.col-lg-offset-2.col-md-4
          +box
      .row.hidden-lg.hidden-md
        .col-lg-7.col-md-8
          h1(data-i18n="new_home.slogan")
        .col
          div(style="margin: auto; max-width: 300px")
            +box
      .row#learn-more-row
        .col-xs-12.text-center
          a#learn-more-link
            h6(data-i18n="new_home.learn_more")
            h2
              span.glyphicon.glyphicon-chevron-down

  .container#classroom-in-box-container
    #classroom-in-box-row.row
      .col-sm-6
        a.open-video-btn.video-thumbnail(data-toggle="modal", data-target="#screenshot-lightbox", data-index='4')
          img(src="/images/pages/home/video_thumb.png")
      .col-sm-6
        h2.text-navy(data-i18n="new_home.classroom_in_a_box")
        p(data-i18n="[html]new_home.codecombat_is")
        p(data-i18n="[html]new_home.our_courses")
        p
          a.open-video-btn.video-text(data-toggle="modal", data-target="#screenshot-lightbox", data-index='4')
            span(data-i18n="new_home.watch_how")

  .teacher-screenshots
    .screenshots
      .hidden-sm.hidden-md.hidden-lg
        small(data-i18n="new_home.top_screenshots_hint")
      .screenshot-grid(title='Click to view full size')
        a.screen-thumbnail(data-toggle="modal", data-target="#screenshot-lightbox", data-index='0')
          img(src="/images/pages/about/desert.jpg")
        a.screen-thumbnail(data-toggle="modal", data-target="#screenshot-lightbox", data-index='1')
          img(src="/images/pages/about/forest.jpg")
        a.screen-thumbnail(data-toggle="modal", data-target="#screenshot-lightbox", data-index='2')
          img(src="/images/pages/about/dungeon.jpg")
        a.screen-thumbnail(data-toggle="modal", data-target="#screenshot-lightbox", data-index='3')
          img(src="/images/pages/about/glacier.jpg")
      .clearfix.hidden-xs
        small(data-i18n="new_home.top_screenshots_hint")


  .container
    #feature-spread-row.row.text-center
      h3(data-i18n="new_home.designed_with")
      .col-sm-4
        img.img-circle(src="/images/pages/home/F1_typedcode.png")
        h4
          span(data-i18n="new_home.real_code")
          br
          span(data-i18n="new_home.from_the_first_level")
        p.small(data-i18n="new_home.getting_students")

      .col-sm-4
        img.img-circle(src="/images/pages/home/F2_teacherguides.png")
        h4
          span(data-i18n="new_home.educator_resources")
          br
          span(data-i18n="new_home.course_guides")
        p.small(data-i18n="new_home.teaching_computer_science")

      .col-sm-4
        img.img-circle(src="/images/pages/home/F3_accessible.png")
        h4
          span(data-i18n="new_home.accessible_to")
          br
          span(data-i18n="new_home.everyone")
        p.small(data-i18n="new_home.democratizing")



    #screenshot-lightbox.modal.fade(data-show="false")
      .modal-dialog
        .modal-content
          #screenshot-carousel.carousel
            ol.carousel-indicators
              li(data-target="#screenshot-carousel", data-slide-to="0").active
              li(data-target="#screenshot-carousel", data-slide-to="1")
              li(data-target="#screenshot-carousel", data-slide-to="2")
              li(data-target="#screenshot-carousel", data-slide-to="3")
              li(data-target="#screenshot-carousel", data-slide-to="4")

            .carousel-inner
              .item.active
                img#screenshot-desert(src="/images/pages/about/desert.jpg")
              .item
                img#screenshot-forest(src="/images/pages/about/forest.jpg")
              .item
                img#screenshot-dungeon(src="/images/pages/about/dungeon.jpg")
              .item
                img#screenshot-glacier(src="/images/pages/about/glacier.jpg")
              .item.video-carousel-item
                .video-wrapper
                  iframe.vimeo-player(src="https://player.vimeo.com/video/229304323" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen)
            a#carousel-left.left.carousel-control(href="#screenshot-carousel", role="button")
              span.glyphicon.glyphicons-chevron-left.glyphicon-chevron-left(aria-hidden="true")
              span.sr-only(data-i18n="about.previous")
            a#carousel-right.right.carousel-control(href="#screenshot-carousel", role="button")
              span.glyphicon.glyphicons-chevron-right.glyphicon-chevron-right(aria-hidden="true")
              span.sr-only(data-i18n="play.next")
